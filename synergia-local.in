#!/bin/sh

local_dir="`dirname $0`"
SYNERGIA2DIR="$local_dir"
export SYNERGIA2DIR
chef_dirs=`echo "${CHEF_LIBRARY_DIRS}" | sed 's/;/ /g'`
impact_dir="$local_dir/../impact/Forthon_Interfaces"
for dir in $local_dir $chef_dirs $impact_dir
do
    PYTHONPATH="$dir:$PYTHONPATH"
done
export PYTHONPATH

just_options=false
options_file="`basename \"$1\" .py`_options.py"
if [ -f "$options_file" ]; then
	for arg in "$@"
	do
		if [ x"$arg" = x"--help" ]; then
			just_options=true
		fi
		if [ x"$arg" = x"createjob=1" ]; then
			just_options=true
		fi		
	done
fi

if [ "$just_options" = "true" ]; then
	exec python "$options_file" --strip-options-file "$@"
else
	exec python "$@"
fi

