add_definitions(-DBOOST_TEST_DYN_LINK)

add_executable(test_chef_propagator test_chef_propagator.cc)
target_link_libraries(test_chef_propagator simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_chef_propagator test_chef_propagator)

add_executable(test_fast_mapping_term test_fast_mapping_term.cc)
target_link_libraries(test_fast_mapping_term simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_fast_mapping_term test_fast_mapping_term)

add_executable(test_fast_mapping test_fast_mapping.cc)
target_link_libraries(test_fast_mapping simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_fast_mapping test_fast_mapping)

add_executable(test_fast_mapping_operation test_fast_mapping_operation.cc)
target_link_libraries(test_fast_mapping_operation simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_fast_mapping_operation test_fast_mapping_operation)

add_executable(test_chef_propagate_operation test_chef_propagate_operation.cc)
target_link_libraries(test_chef_propagate_operation simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_chef_propagate_operation test_chef_propagate_operation)

add_executable(test_chef_map_operation_extractor test_chef_map_operation_extractor.cc)
target_link_libraries(test_chef_map_operation_extractor simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_chef_map_operation_extractor test_chef_map_operation_extractor)

add_executable(test_chef_propagate_operation_extractor test_chef_propagate_operation_extractor.cc)
target_link_libraries(test_chef_propagate_operation_extractor simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_chef_propagate_operation_extractor test_chef_propagate_operation_extractor)

add_executable(test_chef_mixed_operation_extractor test_chef_mixed_operation_extractor.cc)
target_link_libraries(test_chef_mixed_operation_extractor simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_chef_mixed_operation_extractor test_chef_mixed_operation_extractor)

add_executable(test_operation_extractor_map test_operation_extractor_map.cc)
target_link_libraries(test_operation_extractor_map simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_operation_extractor_map test_operation_extractor_map)

add_executable(test_lattice_simulator test_lattice_simulator.cc)
target_link_libraries(test_lattice_simulator simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_lattice_simulator test_lattice_simulator)

add_executable(test_collective_operator test_collective_operator.cc)
target_link_libraries(test_collective_operator simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_collective_operator test_collective_operator)

add_executable(test_independent_operator test_independent_operator.cc)
target_link_libraries(test_independent_operator simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_independent_operator test_independent_operator)

add_executable(test_step test_step.cc)
target_link_libraries(test_step simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_step test_step)

add_executable(test_stepper test_stepper.cc)
target_link_libraries(test_stepper simulation lattice ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_stepper test_stepper)

add_executable(test_propagator test_propagator.cc)
target_link_libraries(test_propagator simulation lattice bunch ${Boost_UNIT_TEST_FRAMEWORK_LIBRARY})
add_test(test_propagator test_propagator)

set_directory_properties(PROPERTIES ADDITIONAL_MAKE_CLEAN_FILES
    "test_fast_mapping_term.dat;test_fast_mapping.dat;test_fast_mapping2.dat")
